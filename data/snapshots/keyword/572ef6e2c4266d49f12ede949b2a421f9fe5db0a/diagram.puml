@startuml
skinparam classAttributeIconSize 0
left to right direction
class BaseEntity {
  + id: Integer
}
class NamedEntity {
  + name: String
}
class Owner {
  + address: String
  + city: String
  + telephone: String
  + pets: Set
}
class Person {
  + firstName: String
  + lastName: String
}
class Pet {
  + birthDate: DateTime
  + type: PetType
  + owner: Owner
  + visits: Set
}
class PetType {
}
class Specialty {
}
class Vet {
  + specialties: Set
}
class Vets {
  + vets: List
}
class Visit {
  + date: DateTime
  + description: String
  + pet: Pet
}
class CallMonitoringAspect {
  + isEnabled: boolean
  + callCount: int
  + accumulatedCallTime: long
}
interface OwnerRepository {
}
interface PetRepository {
}
interface VetRepository {
}
interface VisitRepository {
}
class JdbcOwnerRepositoryImpl {
  + visitRepository: VisitRepository
  + namedParameterJdbcTemplate: NamedParameterJdbcTemplate
  + insertOwner: SimpleJdbcInsert
}
class JdbcPet {
  + typeId: int
  + ownerId: int
}
class JdbcPetRepositoryImpl {
  + namedParameterJdbcTemplate: NamedParameterJdbcTemplate
  + insertPet: SimpleJdbcInsert
  + ownerRepository: OwnerRepository
  + visitRepository: VisitRepository
}
class JdbcPetRowMapper {
}
class JdbcVetRepositoryImpl {
  + logger: Logger
  + jdbcTemplate: JdbcTemplate
  + vets: List
}
class JdbcVisitRepositoryImpl {
  + jdbcTemplate: JdbcTemplate
  + insertVisit: SimpleJdbcInsert
}
class JpaOwnerRepositoryImpl {
  + em: EntityManager
}
class JpaPetRepositoryImpl {
  + em: EntityManager
}
class JpaVetRepositoryImpl {
  + em: EntityManager
}
class JpaVisitRepositoryImpl {
  + em: EntityManager
}
class JpaOwnerRepositoryImpl {
  + em: EntityManager
}
interface SpringDataPetRepository {
}
interface SpringDataVetRepository {
}
interface SpringDataVisitRepository {
}
interface ClinicService {
}
class ClinicServiceImpl {
  + petRepository: PetRepository
  + vetRepository: VetRepository
  + ownerRepository: OwnerRepository
  + visitRepository: VisitRepository
}
class EntityUtils {
}
class PetValidator {
}
class CrashController {
}
class OwnerController {
  + ownerRepository: OwnerRepository
}
class PetController {
  + clinicService: ClinicService
}
class PetTypeFormatter {
  + clinicService: ClinicService
}
class VetController {
  + clinicService: ClinicService
}
class VisitController {
  + clinicService: ClinicService
}
class VisitsAtomView {
}
BaseEntity <|-- NamedEntity
BaseEntity <|-- Person
BaseEntity <|-- Visit
ClinicService <|.. ClinicServiceImpl
ClinicServiceImpl --> OwnerRepository
ClinicServiceImpl --> PetRepository
ClinicServiceImpl --> VetRepository
ClinicServiceImpl --> VisitRepository
JdbcOwnerRepositoryImpl --> VisitRepository
JdbcPetRepositoryImpl --> OwnerRepository
JdbcPetRepositoryImpl --> VisitRepository
NamedEntity <|-- Pet
NamedEntity <|-- PetType
NamedEntity <|-- Specialty
OwnerController --> OwnerRepository
OwnerRepository <|.. JdbcOwnerRepositoryImpl
OwnerRepository <|.. JpaOwnerRepositoryImpl
Person <|-- Owner
Person <|-- Vet
Pet --> Owner
Pet --> PetType
Pet <|-- JdbcPet
PetController --> ClinicService
PetRepository <|-- SpringDataPetRepository
PetRepository <|.. JdbcPetRepositoryImpl
PetRepository <|.. JpaPetRepositoryImpl
PetTypeFormatter --> ClinicService
VetController --> ClinicService
VetRepository <|-- SpringDataVetRepository
VetRepository <|.. JdbcVetRepositoryImpl
VetRepository <|.. JpaVetRepositoryImpl
Visit --> Pet
VisitController --> ClinicService
VisitRepository <|-- SpringDataVisitRepository
VisitRepository <|.. JdbcVisitRepositoryImpl
VisitRepository <|.. JpaVisitRepositoryImpl
@enduml