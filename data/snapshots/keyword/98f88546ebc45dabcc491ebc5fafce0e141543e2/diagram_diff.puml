@startuml
skinparam classAttributeIconSize 0
left to right direction
package "Classes (Removed · Unchanged · Added)" <<Rectangle>> {
  interface ClinicService <<REMOVED>> #LightSalmon {
  }
  class ClinicServiceImpl <<REMOVED>> #LightSalmon {
    + petRepository: PetRepository
    + vetRepository: VetRepository
    + ownerRepository: OwnerRepository
    + visitRepository: VisitRepository
  }
  class CrashController <<REMOVED>> #LightSalmon {
  }
  class EntityUtils <<REMOVED>> #LightSalmon {
  }
  class JdbcOwnerRepositoryImpl <<REMOVED>> #LightSalmon {
    + visitRepository: VisitRepository
    + namedParameterJdbcTemplate: NamedParameterJdbcTemplate
    + insertOwner: SimpleJdbcInsert
  }
  class JdbcPet <<REMOVED>> #LightSalmon {
    + typeId: int
    + ownerId: int
  }
  class JdbcPetRepositoryImpl <<REMOVED>> #LightSalmon {
    + namedParameterJdbcTemplate: NamedParameterJdbcTemplate
    + insertPet: SimpleJdbcInsert
    + ownerRepository: OwnerRepository
    + visitRepository: VisitRepository
  }
  class JdbcPetRowMapper <<REMOVED>> #LightSalmon {
  }
  class JdbcVetRepositoryImpl <<REMOVED>> #LightSalmon {
    + jdbcTemplate: JdbcTemplate
  }
  class JdbcVisitRepositoryImpl <<REMOVED>> #LightSalmon {
    + jdbcTemplate: JdbcTemplate
    + insertVisit: SimpleJdbcInsert
  }
  class JpaOwnerRepositoryImpl <<REMOVED>> #LightSalmon {
    + em: EntityManager
  }
  class JpaPetRepositoryImpl <<REMOVED>> #LightSalmon {
    + em: EntityManager
  }
  class JpaVetRepositoryImpl <<REMOVED>> #LightSalmon {
    + em: EntityManager
  }
  class JpaVisitRepositoryImpl <<REMOVED>> #LightSalmon {
    + em: EntityManager
  }
  class OwnerController <<REMOVED>> #LightSalmon {
    + clinicService: ClinicService
  }
  class PetController <<REMOVED>> #LightSalmon {
    + clinicService: ClinicService
  }
  class PetTypeFormatter <<REMOVED>> #LightSalmon {
    + clinicService: ClinicService
  }
  interface SpringDataOwnerRepository <<REMOVED>> #LightSalmon {
  }
  interface SpringDataPetRepository <<REMOVED>> #LightSalmon {
  }
  interface SpringDataVetRepository <<REMOVED>> #LightSalmon {
  }
  interface SpringDataVisitRepository <<REMOVED>> #LightSalmon {
  }
  class VetController <<REMOVED>> #LightSalmon {
    + clinicService: ClinicService
  }
  class VetsAtomView <<REMOVED>> #LightSalmon {
  }
  class VisitController <<REMOVED>> #LightSalmon {
    + clinicService: ClinicService
  }
  class BaseEntity {
    + id: Integer
  }
  class CallMonitoringAspect {
    + enabled: boolean
    + callCount: int
    + accumulatedCallTime: long
  }
  class NamedEntity {
    + name: String
  }
  class Owner {
    + address: String
    + city: String
    + telephone: String
    + pets: Set
  }
  interface OwnerRepository {
  }
  class Person {
    + firstName: String
    + lastName: String
  }
  class Pet {
    + birthDate: Date
    + type: PetType
    + owner: Owner
  }
  interface PetRepository {
  }
  class PetType {
  }
  class PetValidator {
  }
  class Specialty {
  }
  class Vet {
    + specialties: Set
  }
  interface VetRepository {
  }
  class Vets {
    + vets: List
  }
  class Visit {
    + date: Date
    + description: String
    + petId: int
  }
  interface VisitRepository {
  }
  class ApiGatewayApplication <<ADDED>> #LightGreen {
  }
  class CacheConfig <<ADDED>> #LightGreen {
    + vetsProperties: VetsProperties
  }
  class ClientsServiceApplication <<ADDED>> #LightGreen {
  }
  class ConfigServerApplication <<ADDED>> #LightGreen {
  }
  class DiscoveryServerApplication <<ADDED>> #LightGreen {
  }
  class OwnerResource <<ADDED>> #LightGreen {
    + ownerService: OwnerService
  }
  class OwnerService <<ADDED>> #LightGreen {
    + ownerRepository: OwnerRepository
  }
  class PetResource <<ADDED>> #LightGreen {
    + petService: PetService
    + ownerService: OwnerService
  }
  class PetService <<ADDED>> #LightGreen {
    + petRepository: PetRepository
  }
  class VetResource <<ADDED>> #LightGreen {
    + vetService: VetService
  }
  class VetService <<ADDED>> #LightGreen {
    + vetRepository: VetRepository
  }
  class VetsProperties <<ADDED>> #LightGreen {
    + cache: Cache
  }
  class VetsServiceApplication <<ADDED>> #LightGreen {
  }
  class VisitResource <<ADDED>> #LightGreen {
    + visitService: VisitService
  }
  class VisitService <<ADDED>> #LightGreen {
    + visitRepository: VisitRepository
  }
  class VisitsServiceApplication <<ADDED>> #LightGreen {
  }
  class WebConfig <<ADDED>> #LightGreen {
  }
}
ClinicService <|..[#red,dotted] ClinicServiceImpl
ClinicServiceImpl -[#red,dotted]-> OwnerRepository
ClinicServiceImpl -[#red,dotted]-> PetRepository
ClinicServiceImpl -[#red,dotted]-> VetRepository
ClinicServiceImpl -[#red,dotted]-> VisitRepository
JdbcOwnerRepositoryImpl -[#red,dotted]-> VisitRepository
JdbcPetRepositoryImpl -[#red,dotted]-> OwnerRepository
JdbcPetRepositoryImpl -[#red,dotted]-> VisitRepository
OwnerController -[#red,dotted]-> ClinicService
OwnerRepository <|--[#red,dotted] SpringDataOwnerRepository
OwnerRepository <|..[#red,dotted] JdbcOwnerRepositoryImpl
OwnerRepository <|..[#red,dotted] JpaOwnerRepositoryImpl
Pet <|--[#red,dotted] JdbcPet
PetController -[#red,dotted]-> ClinicService
PetRepository <|--[#red,dotted] SpringDataPetRepository
PetRepository <|..[#red,dotted] JdbcPetRepositoryImpl
PetRepository <|..[#red,dotted] JpaPetRepositoryImpl
PetTypeFormatter -[#red,dotted]-> ClinicService
VetController -[#red,dotted]-> ClinicService
VetRepository <|--[#red,dotted] SpringDataVetRepository
VetRepository <|..[#red,dotted] JdbcVetRepositoryImpl
VetRepository <|..[#red,dotted] JpaVetRepositoryImpl
Visit -[#red,dotted]-> Pet
VisitController -[#red,dotted]-> ClinicService
VisitRepository <|--[#red,dotted] SpringDataVisitRepository
VisitRepository <|..[#red,dotted] JdbcVisitRepositoryImpl
VisitRepository <|..[#red,dotted] JpaVisitRepositoryImpl
BaseEntity <|-- NamedEntity
BaseEntity <|-- Person
BaseEntity <|-- Visit
NamedEntity <|-- Pet
NamedEntity <|-- PetType
NamedEntity <|-- Specialty
Person <|-- Owner
Person <|-- Vet
Pet --> Owner
Pet --> PetType
CacheConfig -[#green,dotted]-> VetsProperties
OwnerResource -[#green,dotted]-> OwnerService
OwnerService -[#green,dotted]-> OwnerRepository
PetResource -[#green,dotted]-> OwnerService
PetResource -[#green,dotted]-> PetService
PetService -[#green,dotted]-> PetRepository
VetResource -[#green,dotted]-> VetService
VetService -[#green,dotted]-> VetRepository
VisitResource -[#green,dotted]-> VisitService
VisitService -[#green,dotted]-> VisitRepository
@enduml